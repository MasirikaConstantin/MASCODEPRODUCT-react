import{c as R,g as ee,r as E,m as B,j as e,$ as ae,Y as V}from"./app-HFejvg3Q.js";import{A as se}from"./AuthenticatedLayout-76fBBGaH.js";import"./Footer-DU1nN2KW.js";import"./Header-CbzPk8Rk.js";import"./TextInput-gL0HOBcG.js";var D,z;function te(){if(z)return D;z=1;var c="Expected a function",C=NaN,g="[object Symbol]",n=/^\s+|\s+$/g,j=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,T=/^0o[0-7]+$/i,L=parseInt,p=typeof R=="object"&&R&&R.Object===Object&&R,N=typeof self=="object"&&self&&self.Object===Object&&self,O=p||N||Function("return this")(),$=Object.prototype,k=$.toString,A=Math.max,a=Math.min,i=function(){return O.Date.now()};function x(s,r,d){var b,v,_,h,l,u,y=0,G=!1,w=!1,M=!0;if(typeof s!="function")throw new TypeError(c);r=W(r)||0,m(d)&&(G=!!d.leading,w="maxWait"in d,_=w?A(W(d.maxWait)||0,r):_,M="trailing"in d?!!d.trailing:M);function F(t){var f=b,S=v;return b=v=void 0,y=t,h=s.apply(S,f),h}function J(t){return y=t,l=setTimeout(I,r),G?F(t):h}function K(t){var f=t-u,S=t-y,P=r-f;return w?a(P,_-S):P}function q(t){var f=t-u,S=t-y;return u===void 0||f>=r||f<0||w&&S>=_}function I(){var t=i();if(q(t))return H(t);l=setTimeout(I,K(t))}function H(t){return l=void 0,M&&b?F(t):(b=v=void 0,h)}function Q(){l!==void 0&&clearTimeout(l),y=0,b=u=v=l=void 0}function Z(){return l===void 0?h:H(i())}function Y(){var t=i(),f=q(t);if(b=arguments,v=this,u=t,f){if(l===void 0)return J(u);if(w)return l=setTimeout(I,r),F(u)}return l===void 0&&(l=setTimeout(I,r)),h}return Y.cancel=Q,Y.flush=Z,Y}function m(s){var r=typeof s;return!!s&&(r=="object"||r=="function")}function U(s){return!!s&&typeof s=="object"}function X(s){return typeof s=="symbol"||U(s)&&k.call(s)==g}function W(s){if(typeof s=="number")return s;if(X(s))return C;if(m(s)){var r=typeof s.valueOf=="function"?s.valueOf():s;s=m(r)?r+"":r}if(typeof s!="string")return s===0?s:+s;s=s.replace(n,"");var d=o.test(s);return d||T.test(s)?L(s.slice(2),d?2:8):j.test(s)?C:+s}return D=x,D}var re=te();const ie=ee(re);function me({astuces:c,categories:C,filters:g}){const[n,j]=E.useState({titre:g.titre||"",contenus:g.contenus||"",categorie_id:g.categorie_id||""}),[o,T]=E.useState("grid"),[L,p]=E.useState(!1),N=E.useCallback(ie(a=>{B.get(route("astuces.index"),a,{preserveState:!0,replace:!0,onFinish:()=>p(!1)})},500),[]),O=a=>{const{name:i,value:x}=a.target,m={...n,[i]:x};j(m),i==="categorie_id"&&(p(!0),N(m))},$=a=>{const{name:i,value:x}=a.target;j(m=>({...m,[i]:x})),p(!0),N({...n,[i]:x})},k=()=>{j({titre:"",contenus:"",categorie_id:""}),B.get(route("astuces.index"))},A=()=>c.total||c.data.length;return e.jsxs(se,{children:[e.jsx(ae,{title:"Astuces"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-base-100 to-base-200",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-center mb-8 gap-4",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(V,{href:route("astuces.create"),className:"btn btn-primary btn-lg shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"Créer une astuce"]})}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"tabs tabs-boxed bg-base-100 shadow-lg",children:[e.jsxs("button",{className:`tab tab-lg ${o==="grid"?"tab-active":""}`,onClick:()=>T("grid"),children:[e.jsx("i",{className:"fas fa-th mr-2"}),"Grille"]}),e.jsxs("button",{className:`tab tab-lg ${o==="list"?"tab-active":""}`,onClick:()=>T("list"),children:[e.jsx("i",{className:"fas fa-list mr-2"}),"Liste"]})]})})]}),e.jsx("div",{className:"card bg-base-100 shadow-2xl border border-base-200 mb-8 animate-fade-in-up",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("i",{className:"fas fa-search text-2xl text-primary mr-3"}),e.jsx("h2",{className:"card-title text-2xl",children:"Rechercher des astuces"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text font-semibold",children:[e.jsx("i",{className:"fas fa-heading mr-2"}),"Titre"]})}),e.jsx("input",{type:"text",name:"titre",placeholder:"Rechercher par titre...",className:"input input-bordered input-primary w-full",value:n.titre,onChange:$})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text font-semibold",children:[e.jsx("i",{className:"fas fa-align-left mr-2"}),"Contenu"]})}),e.jsx("input",{type:"text",name:"contenus",placeholder:"Rechercher dans le contenu...",className:"input input-bordered input-primary w-full",value:n.contenus,onChange:$})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text font-semibold",children:[e.jsx("i",{className:"fas fa-tag mr-2"}),"Catégorie"]})}),e.jsxs("select",{name:"categorie_id",className:"select select-bordered select-primary w-full",value:n.categorie_id,onChange:O,children:[e.jsx("option",{value:"",children:"Toutes les catégories"}),C.map(a=>e.jsx("option",{value:a.id,children:a.titre},a.id))]})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsxs("button",{type:"button",onClick:k,className:"btn btn-outline btn-warning",children:[e.jsx("i",{className:"fas fa-undo mr-2"}),"Réinitialiser"]}),e.jsxs("div",{className:"indicator",children:[L&&e.jsx("span",{className:"indicator-item badge badge-primary"}),e.jsxs("button",{type:"button",onClick:()=>N(n),className:"btn btn-primary",children:[e.jsx("i",{className:"fas fa-search mr-2"}),"Rechercher"]})]})]})]})]})}),(n.titre||n.contenus||n.categorie_id)&&e.jsxs("div",{className:"alert alert-info shadow-lg mb-6 animate-fade-in-up",children:[e.jsx("i",{className:"fas fa-info-circle"}),e.jsxs("span",{children:[A()," résultat(s) trouvé(s)"]})]}),c.data.length>0?e.jsx("div",{className:`${o==="grid"?"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-6"}`,children:c.data.map((a,i)=>e.jsxs("div",{id:`card-${i}`,className:`card bg-base-100 shadow-xl border border-base-200 hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 opacity-0 ${o==="list"?"lg:card-side":""}`,style:{animation:`fade-in-up 0.6s ease-out ${i*.1}s forwards`},children:[a.image&&e.jsxs("figure",{className:`${o==="list"?"lg:w-1/3":""}`,children:[e.jsx("img",{src:`/storage/${a.image}`,alt:a.titre,className:`w-full h-full object-cover ${o==="list"?"h-48 lg:h-full":"h-48"}`}),!a.etat&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsxs("div",{className:"badge badge-warning badge-lg",children:[e.jsx("i",{className:"fas fa-edit mr-1"}),"Brouillon"]})})]}),e.jsxs("div",{className:`card-body ${o==="list"?"lg:w-2/3":""}`,children:[e.jsxs("h2",{className:"card-title text-xl mb-3 hover:text-primary transition-colors duration-300",children:[a.titre,!a.etat&&!a.image&&e.jsxs("div",{className:"badge badge-warning",children:[e.jsx("i",{className:"fas fa-edit mr-1"}),"Brouillon"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.jsxs("div",{className:"badge badge-primary badge-outline",children:[e.jsx("i",{className:"fas fa-user mr-1"}),a.user.name]}),e.jsxs("div",{className:"badge badge-secondary badge-outline",children:[e.jsx("i",{className:"fas fa-tag mr-1"}),a.categorie.titre]}),e.jsxs("div",{className:"badge badge-accent badge-outline",children:[e.jsx("i",{className:"fas fa-calendar mr-1"}),new Date(a.created_at).toLocaleDateString("fr-FR")]})]}),e.jsx("p",{className:"text-base-content/70 line-clamp-3 mb-4",children:a.description}),e.jsx("div",{className:"card-actions justify-end",children:e.jsxs(V,{href:route("astuces.show",a.slug),className:"btn btn-primary",children:[e.jsx("i",{className:"fas fa-eye mr-2"}),"Lire plus"]})})]})]},a.id))}):e.jsxs("div",{className:"text-center py-16 animate-fade-in-up",children:[e.jsx("div",{className:"text-6xl text-base-300 mb-4",children:e.jsx("i",{className:"fas fa-search"})}),e.jsx("h3",{className:"text-2xl font-bold text-base-content/60 mb-2",children:"Aucune astuce trouvée"}),e.jsx("p",{className:"text-base-content/40 mb-6",children:"Essayez de modifier vos critères de recherche"}),e.jsxs("button",{onClick:k,className:"btn btn-primary",children:[e.jsx("i",{className:"fas fa-undo mr-2"}),"Voir toutes les astuces"]})]}),c.links&&c.links.length>3&&e.jsx("div",{className:"flex justify-center mt-12 animate-fade-in-up",children:e.jsx("div",{className:"join shadow-lg",children:c.links.map((a,i)=>e.jsx("button",{className:`join-item btn ${a.active?"btn-active btn-primary":"btn-outline"} ${a.url?"":"btn-disabled"}`,onClick:()=>a.url&&B.get(a.url),disabled:!a.url,dangerouslySetInnerHTML:{__html:a.label}},i))})})]})}),e.jsx("style",{children:`
                @keyframes fade-in-up {
                    from {
                        opacity: 0;
                        transform: translateY(30px);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }
                
                @keyframes fade-in-down {
                    from {
                        opacity: 0;
                        transform: translateY(-30px);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }
                
                .animate-fade-in-up {
                    animation: fade-in-up 0.6s ease-out forwards;
                }
                
                .animate-fade-in-down {
                    animation: fade-in-down 0.6s ease-out forwards;
                }
                
                .line-clamp-3 {
                    display: -webkit-box;
                    -webkit-line-clamp: 3;
                    -webkit-box-orient: vertical;
                    overflow: hidden;
                }
            `})]})}export{me as default};
