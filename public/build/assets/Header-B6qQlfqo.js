import{r as l,j as e,q as C,v as f,Y as g,a as L,m as M}from"./app-BwmMsR3-.js";import{I as b,T as j,a as v}from"./TextInput-Bd2RCDDY.js";const z=l.forwardRef(function({type:i="text",className:a="",isFocused:u=!1,...m},x){const o=l.useRef(null);return l.useImperativeHandle(x,()=>({focus:()=>{var c;return(c=o.current)==null?void 0:c.focus()}})),l.useEffect(()=>{var c;u&&((c=o.current)==null||c.focus())},[u]),e.jsx(e.Fragment,{children:e.jsxs("label",{className:"input",children:[e.jsx("span",{className:"label",children:"@"}),e.jsx("input",{...m,type:i,className:"input "+a,placeholder:"UserName",ref:o})]})})});function S({status:h,canResetPassword:i}){var N;const[a,u]=l.useState("login"),[m,x]=l.useState(!1),{auth:o}=C().props,c=o==null?void 0:o.user,d=f({email:"",password:"",username:"",remember:!1}),t=f({name:"",email:"",password:"",username:"",password_confirmation:""}),n=f({email:""}),s=r=>{x(!0),setTimeout(()=>{u(r),x(!1)},200)},p=r=>{r.preventDefault(),d.post(route("login"),{preserveScroll:!0,onSuccess:()=>{d.reset("password"),document.getElementById("login_modal").close()}})},w=r=>{r.preventDefault(),t.post(route("register"),{preserveScroll:!0,onSuccess:()=>{t.reset("password","password_confirmation"),document.getElementById("login_modal").close()}})},k=r=>{r.preventDefault(),n.post(route("password.email"),{preserveScroll:!0,onSuccess:()=>n.reset()})};return l.useEffect(()=>{const r=document.getElementById("login_modal"),y=()=>{d.reset(),t.reset(),n.reset()};return r.addEventListener("close",y),()=>r.removeEventListener("close",y)},[]),e.jsxs(e.Fragment,{children:[c?e.jsxs("div",{className:"dropdown dropdown-end",children:[e.jsxs("label",{tabIndex:0,className:"btn btn-ghost btn-circle avatar group relative",children:[e.jsx("div",{className:"absolute inset-0 bg-primary/10 rounded-full scale-0 group-hover:scale-100 transition-transform duration-300"}),(N=o.user)!=null&&N.avatar?e.jsx("img",{src:o.user.avatar,alt:"Profile",className:"w-10 rounded-full transition-all duration-300 hover:ring-2 hover:ring-primary"}):e.jsx("div",{className:"avatar placeholder",children:e.jsx("div",{className:"bg-neutral text-neutral-content rounded-full w-10",children:e.jsx("span",{className:"text-xl uppercase",children:o.user.name.substring(0,2)})})})]}),e.jsxs("ul",{tabIndex:0,className:"mt-3 p-2 shadow menu menu-sm dropdown-content bg-base-300 rounded-box w-52 animate-fade-in",children:[e.jsx("li",{children:e.jsx(g,{href:route("dashboard"),className:"justify-between hover:bg-primary/10 transition-colors",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-[20px] h-[20px] text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M11.5039 3.13176c.3074-.17568.6848-.17568.9923 0l3.5554 2.0317L12 7.42604 7.94841 5.16346l3.55549-2.0317Zm-4.50388 3.7928L7 10.2768l-3.15822 1.8047 4.14118 2.205L11 12.5625V9.15832L7.00002 6.92456ZM3 13.8991v3.8152c0 .3588.19229.6902.50386.8682l3.49615 1.9978V16.029L3 13.8991Zm6.00001 6.6812L12 18.866l3 1.7143v-4.5714l-3-1.7143-2.99999 1.7142v4.5715Zm7.99999 0 3.4961-1.9978c.3116-.178.5039-.5094.5039-.8682v-3.8152l-4 2.1299v4.5513Zm3.1582-8.4988L17 10.2768V6.92457l-4 2.23375v3.40418l3.0171 1.724 4.1411-2.205Z"})}),"Tableau de bord"]})})}),e.jsx("li",{children:e.jsx(g,{href:route("mon.profile.edit"),className:"justify-between hover:bg-primary/10 transition-colors",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-[20px] h-[20px]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profil"]})})}),e.jsx("li",{children:e.jsx(g,{href:route("user-settings.edit"),className:"hover:bg-primary/10 transition-colors",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"w-[20px] h-[20px]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Paramètres"]})})}),e.jsx("li",{children:e.jsx(g,{href:route("logout"),method:"post",as:"button",className:"hover:bg-error/10 text-error transition-colors",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-[20px] h-[20px]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Déconnexion"]})})})]})]}):e.jsxs("button",{onClick:()=>document.getElementById("login_modal").showModal(),className:"btn btn-primary btn-sm sm:btn-md hover:scale-105 transition-all duration-200 relative overflow-hidden group",children:[e.jsx("span",{className:"hidden sm:inline relative z-10",children:"Connexion"}),e.jsx("span",{className:"sm:hidden relative z-10",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("span",{className:"absolute inset-0 bg-primary/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-primary/30 to-transparent -translate-x-full group-hover:translate-x-0 transition-transform duration-700"})]}),e.jsxs("dialog",{id:"login_modal",className:"modal modal-bottom sm:modal-middle backdrop-blur-sm",children:[e.jsxs("div",{className:`modal-box bg-base-100 border border-base-200/50 shadow-xl transition-all duration-300 ${m?"opacity-0 scale-95":"opacity-100 scale-100"}`,children:[e.jsx("button",{onClick:()=>document.getElementById("login_modal").close(),className:"btn btn-sm btn-circle absolute right-4 top-4 hover:bg-error/10 hover:text-error transition-colors","aria-label":"Fermer",children:"✕"}),h&&e.jsxs("div",{className:"alert alert-success mb-4 animate-fade-in",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:h})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"font-bold text-2xl mb-1",children:a==="login"?"Connectez-vous":a==="register"?"Créez un compte":"Réinitialisation"}),e.jsx("p",{className:"text-sm opacity-70",children:a==="login"?"Accédez à votre espace personnel":a==="register"?"Rejoignez notre communauté":"Recevez un lien de réinitialisation"})]}),e.jsxs("div",{className:"tabs tabs-boxed bg-base-200/50 p-1 rounded-box mb-6",children:[e.jsxs("button",{className:`tab flex-1 transition-colors ${a==="login"?"tab-active bg-base-100 shadow":""}`,onClick:()=>s("login"),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Connexion"]}),e.jsxs("button",{className:`tab flex-1 transition-colors ${a==="register"?"tab-active bg-base-100 shadow":""}`,onClick:()=>s("register"),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Inscription"]}),i&&e.jsxs("button",{className:`tab flex-1 transition-colors ${a==="forgot"?"tab-active bg-base-100 shadow":""}`,onClick:()=>s("forgot"),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Mot de passe"]})]}),e.jsxs("div",{className:`transition-opacity duration-200 ${m?"opacity-0":"opacity-100"}`,children:[a==="login"&&e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx(b,{htmlFor:"login_email",value:"Email",className:"label"}),e.jsx(j,{id:"login_email",type:"email",name:"email",value:d.data.email,className:"input input-bordered w-full focus:ring-2 focus:ring-primary",autoComplete:"username",isFocused:!0,onChange:r=>d.setData("email",r.target.value)}),e.jsx(v,{message:d.errors.email,className:"mt-1"})]}),e.jsxs("div",{className:"form-control",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(b,{htmlFor:"login_password",value:"Mot de passe",className:"label"}),i&&e.jsx("button",{type:"button",onClick:()=>s("forgot"),className:"text-xs link link-primary",children:"Mot de passe oublié?"})]}),e.jsx(j,{id:"login_password",type:"password",name:"password",value:d.data.password,className:"input input-bordered w-full focus:ring-2 focus:ring-primary",autoComplete:"current-password",onChange:r=>d.setData("password",r.target.value)}),e.jsx(v,{message:d.errors.password,className:"mt-1"})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("label",{className:"label cursor-pointer gap-2",children:[e.jsx("input",{type:"checkbox",name:"remember",checked:d.data.remember,onChange:r=>d.setData("remember",r.target.checked),className:"checkbox checkbox-primary checkbox-sm"}),e.jsx("span",{className:"label-text",children:"Se souvenir de moi"})]})}),e.jsxs("div",{className:"modal-action flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>document.getElementById("login_modal").close(),className:"btn btn-ghost hover:bg-base-200 transition-all",children:"Annuler"}),e.jsx("button",{type:"submit",className:"btn btn-primary flex-1 hover:bg-primary-focus transition-all",disabled:d.processing,children:d.processing?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner"}),"Connexion..."]}):"Se connecter"})]})]}),a==="register"&&e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx(b,{htmlFor:"register_name",value:"Nom complet",className:"label"}),e.jsx(j,{id:"register_name",type:"text",name:"name",value:t.data.name,className:"input input-bordered w-full focus:ring-2 focus:ring-primary",autoComplete:"name",isFocused:!0,onChange:r=>t.setData("name",r.target.value)}),e.jsx(v,{message:t.errors.name,className:"mt-1"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx(b,{htmlFor:"register_username",value:"Nom d'utilisateur",className:"label"}),e.jsx(z,{id:"register_username",type:"text",name:"username",value:t.data.username,className:"input input-bordered w-full focus:ring-2 focus:ring-primary",autoComplete:"username",onChange:r=>t.setData("username",r.target.value)}),e.jsx(v,{message:t.errors.username,className:"mt-1"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx(b,{htmlFor:"register_email",value:"Email",className:"label"}),e.jsx(j,{id:"register_email",type:"email",name:"email",value:t.data.email,className:"input input-bordered w-full focus:ring-2 focus:ring-primary",autoComplete:"email",onChange:r=>t.setData("email",r.target.value)}),e.jsx(v,{message:t.errors.email,className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx(b,{htmlFor:"register_password",value:"Mot de passe",className:"label"}),e.jsx(j,{id:"register_password",type:"password",name:"password",value:t.data.password,className:"input input-bordered w-full focus:ring-2 focus:ring-primary",autoComplete:"new-password",onChange:r=>t.setData("password",r.target.value)}),e.jsx(v,{message:t.errors.password,className:"mt-1"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx(b,{htmlFor:"register_password_confirmation",value:"Confirmation",className:"label"}),e.jsx(j,{id:"register_password_confirmation",type:"password",name:"password_confirmation",value:t.data.password_confirmation,className:"input input-bordered w-full focus:ring-2 focus:ring-primary",autoComplete:"new-password",onChange:r=>t.setData("password_confirmation",r.target.value)}),e.jsx(v,{message:t.errors.password_confirmation,className:"mt-1"})]})]}),e.jsxs("div",{className:"modal-action flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>document.getElementById("login_modal").close(),className:"btn btn-ghost hover:bg-base-200 transition-all",children:"Annuler"}),e.jsx("button",{type:"submit",className:"btn btn-primary flex-1 hover:bg-primary-focus transition-all",disabled:t.processing,children:t.processing?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner"}),"Inscription..."]}):"S'inscrire"})]})]}),a==="forgot"&&e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx(b,{htmlFor:"forgot_email",value:"Email",className:"label"}),e.jsx(j,{id:"forgot_email",type:"email",name:"email",value:n.data.email,className:"input input-bordered w-full focus:ring-2 focus:ring-primary",autoComplete:"email",isFocused:!0,onChange:r=>n.setData("email",r.target.value)}),e.jsx(v,{message:n.errors.email,className:"mt-1"})]}),e.jsx("div",{className:"text-xs opacity-70",children:e.jsx("p",{children:"Un lien de réinitialisation vous sera envoyé à cette adresse email."})}),e.jsxs("div",{className:"modal-action flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>s("login"),className:"btn btn-ghost hover:bg-base-200 transition-all",children:"Retour"}),e.jsx("button",{type:"submit",className:"btn btn-primary flex-1 hover:bg-primary-focus transition-all",disabled:n.processing,children:n.processing?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner"}),"Envoi..."]}):"Envoyer le lien"})]})]})]}),(a==="login"||a==="register")&&e.jsx("div",{className:"divider my-6 text-xs opacity-50",children:"OU"}),(a==="login"||a==="register")&&e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsxs("a",{href:"/auth/google",className:"btn bg-white text-black border-[#e5e5e5]",children:[e.jsx("svg",{"aria-label":"Google logo",width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:e.jsxs("g",{children:[e.jsx("path",{d:"m0 0H512V512H0",fill:"#fff"}),e.jsx("path",{fill:"#34a853",d:"M153 292c30 82 118 95 171 60h62v48A192 192 0 0190 341"}),e.jsx("path",{fill:"#4285f4",d:"m386 400a140 175 0 0053-179H260v74h102q-7 37-38 57"}),e.jsx("path",{fill:"#fbbc02",d:"m90 341a208 200 0 010-171l63 49q-12 37 0 73"}),e.jsx("path",{fill:"#ea4335",d:"m153 219c22-69 116-109 179-50l55-54c-78-75-230-72-297 55"})]})}),"Login with Google"]}),e.jsxs("a",{href:"/auth/github",className:"btn bg-black text-white border-black",children:[e.jsx("svg",{"aria-label":"GitHub logo",width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"white",d:"M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"})}),"Login with GitHub"]})]})]}),e.jsx("form",{method:"dialog",className:"modal-backdrop bg-black/50 backdrop-blur-sm transition-opacity duration-300",children:e.jsx("button",{className:"cursor-default",children:"Fermer"})})]})]})}function _({isOpen:h,onClose:i}){const[a,u]=l.useState(""),[m,x]=l.useState([]),[o,c]=l.useState(!1);l.useEffect(()=>{var s;h&&(u(""),x([]),(s=document.getElementById("search-input"))==null||s.focus())},[h]),l.useEffect(()=>{const s=p=>{p.key==="Escape"&&i()};return h&&window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[h,i]),l.useEffect(()=>{const s=setTimeout(async()=>{if(a.trim().length>2){c(!0);try{const p=await L.get(route("search"),{params:{query:a}});x(p.data.results)}catch(p){console.error("Erreur lors de la recherche:",p)}finally{c(!1)}}else x([])},300);return()=>clearTimeout(s)},[a]);const d=s=>{u(s.target.value)},t=s=>{i();const p=s.type==="post"?"posts.show":"astuces.show";M.visit(route(p,s.slug))},n=(s,p)=>{if(!p)return s;const w=new RegExp(`(${p})`,"gi");return s.replace(w,'<span class="bg-yellow-200">$1</span>')};return h?e.jsxs("dialog",{id:"searchModal",className:"modal modal-open",children:[e.jsxs("div",{className:"modal-box w-11/12 max-w-3xl relative p-0",children:[e.jsx("button",{onClick:i,className:"btn btn-sm btn-circle absolute right-4 top-4 z-10 hover:bg-error/20 hover:text-error","aria-label":"Fermer",children:"✕"}),e.jsxs("div",{className:"p-6 pb-0 sticky top-0 bg-base-100 z-10 border-b border-base-300",children:[e.jsx("h3",{className:"font-bold text-2xl mb-4",children:"Recherche"}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("input",{id:"search-input",type:"text",placeholder:"Rechercher des articles, astuces...",className:"input input-bordered w-full pl-12 text-lg focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all duration-200",value:a,onChange:d,autoFocus:!0}),e.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:o?e.jsx("span",{className:"loading loading-spinner loading-sm text-primary"}):e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),e.jsx("div",{className:"max-h-[60vh] overflow-y-auto p-6 pt-4",children:o?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):m.length>0?e.jsx("div",{className:"space-y-4",children:m.map(s=>e.jsx("div",{className:"p-4 hover:bg-base-200 rounded-lg transition-colors duration-150 cursor-pointer border border-base-300",onClick:()=>t(s),children:e.jsxs("div",{className:"flex items-start gap-4",children:[s.has_image&&e.jsx("div",{className:"flex-shrink-0 w-20 h-20 bg-base-300 rounded-lg overflow-hidden",children:e.jsx("img",{src:`${window.location.origin}/storage/${s.image}`,alt:s.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h4",{className:"font-medium text-lg mb-1",dangerouslySetInnerHTML:{__html:n(s.title,a)}}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:s.published_at}),s.type==="post"&&s.has_video&&e.jsx("span",{className:"badge badge-sm badge-primary",children:"Vidéo"})]})]}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",dangerouslySetInnerHTML:{__html:n(s.excerpt,a)}}),e.jsxs("div",{className:"flex justify-between items-center mt-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"avatar",children:e.jsx("div",{className:"w-6 h-6 rounded-full",children:e.jsx("img",{src:s.user.avatar,alt:s.user.name})})}),e.jsx("span",{className:"text-sm font-medium",children:s.user.name})]}),e.jsx("span",{className:"text-xs text-gray-500",children:s.published_at}),s.type==="post"&&e.jsx("span",{className:"text-xs badge badge-accent  px-2 py-1 rounded ",children:"Post"}),s.type==="astuce"&&e.jsx("span",{className:"text-xs badge badge-secondary px-2 py-1 rounded ",children:"Astuce"})]})]})]})},`${s.type}-${s.id}`))}):a.length>2?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"mt-2 text-lg font-medium",children:"Aucun résultat trouvé"}),e.jsx("p",{className:"mt-1 text-gray-500",children:"Essayez avec d'autres termes de recherche"})]}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"Entrez au moins 3 caractères pour commencer la recherche"}),e.jsx("div",{className:"mt-4 flex flex-wrap justify-center gap-2",children:["Laravel","React","Inertia","PHP","JavaScript","CSS"].map(s=>e.jsx("span",{className:"badge badge-outline cursor-pointer hover:badge-primary transition-all duration-200",onClick:()=>u(s),children:s},s))}),e.jsxs("div",{className:"mt-6 text-left",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Conseils de recherche :"}),e.jsxs("ul",{className:"text-sm space-y-1 text-gray-500",children:[e.jsx("li",{children:"• Essayez des mots-clés différents ou plus généraux"}),e.jsx("li",{children:"• Vérifiez l'orthographe de vos termes"}),e.jsx("li",{children:"• Utilisez des termes spécifiques pour des résultats plus précis"})]})]})]})})]}),e.jsx("form",{method:"dialog",className:"modal-backdrop",children:e.jsx("button",{onClick:i,children:"Fermer"})})]}):null}function E(){const{data:h,setData:i,post:a,processing:u,errors:m,recentlySuccessful:x}=f({email:"",nom:""}),o=c=>{c.preventDefault(),a(route("newsletter.store"))};return e.jsxs("div",{className:"bg-base-200 p-6 rounded-lg z-90000",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Abonnez-vous à notre newsletter"}),x&&e.jsx("div",{className:"alert alert-success mb-4",children:"Merci pour votre inscription ! Veuillez vérifier votre email."}),e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nom",className:"block mb-1",children:"Nom (optionnel)"}),e.jsx("input",{id:"nom",type:"text",value:h.nom,onChange:c=>i("nom",c.target.value),className:"input input-bordered w-full"}),m.nom&&e.jsx("p",{className:"text-error text-sm mt-1",children:m.nom})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block mb-1",children:"Email *"}),e.jsx("input",{id:"email",type:"email",value:h.email,onChange:c=>i("email",c.target.value),className:"input input-bordered w-full",required:!0}),m.email&&e.jsx("p",{className:"text-error text-sm mt-1",children:m.email})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"En cours...":"S'abonner"})]})]})}const I=()=>{const[h,i]=l.useState(!1),[a,u]=l.useState(!0),[m,x]=l.useState(!0),o=l.useRef(null),[c,d]=l.useState(!1),t=l.useRef(0);return l.useEffect(()=>{const n=()=>{const s=window.scrollY;Math.abs(s-t.current)>5&&(s>t.current&&s>100?u(!1):s<t.current&&u(!0)),t.current=s};return window.addEventListener("scroll",n,{passive:!0}),()=>window.removeEventListener("scroll",n)},[]),e.jsxs(e.Fragment,{children:[m&&e.jsx("div",{className:"bg-base-300 text-base-content border-b border-base-200/50 text-sm",children:e.jsxs("div",{className:"container mx-auto px-4 py-2 flex flex-col md:flex-row justify-between items-center gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{children:"✨ Nouveaux articles chaque semaine"}),e.jsx("button",{className:"btn btn-xs btn-primary rounded-full",onClick:()=>d(!0),children:"S'abonner à la newsletter"})]}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-base-100 rounded-lg max-w-md w-full p-6 relative",children:[e.jsx("button",{onClick:()=>d(!1),className:"btn btn-sm btn-circle absolute right-2 top-2",children:"✕"}),e.jsx(E,{})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:e.jsx("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"})})}),e.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:e.jsx("path",{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"})})}),e.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:e.jsx("path",{d:"M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"})})})]}),e.jsx("button",{onClick:()=>x(!1),className:"btn btn-xs btn-circle btn-ghost hover:bg-base-200",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]})}),e.jsxs("header",{ref:o,className:`navbar  sticky top-0 z-50 px-0  sm:px-4 transition-all duration-300 ease-out  ${a?"translate-y-0":"-translate-y-full"} ${m?"shadow-sm":"shadow-md"}`,style:{backdropFilter:"blur(8px)",backgroundColor:"hsla(var(--b1) / 0.95)",borderBottom:"1px solid hsla(var(--bc) / 0.1)"},children:[e.jsxs("div",{className:"navbar-start w-full sm:w-auto mr-36  ",children:[e.jsxs("div",{className:"dropdown",children:[e.jsx("label",{tabIndex:0,className:"btn btn-ghost lg:hidden px-3 hover:bg-primary/20",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h8m-8 6h16"})})}),e.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52",children:[e.jsx("li",{children:e.jsx(g,{href:route("home"),className:"active:bg-primary/20",children:"Accueil"})}),e.jsx("li",{children:e.jsx(g,{href:route("astuces.index"),className:"active:bg-primary/20",children:"Astuces"})}),e.jsx("li",{children:e.jsx(g,{href:route("posts.index"),className:"active:bg-primary/20",children:"Tous les Posts"})})]})]}),e.jsxs(g,{href:route("home"),className:"logo btn btn-ghost normal-case text-xl px-2 mx-auto sm:mx-0 relative overflow-hidden me-16",style:{"--x":"0px","--y":"0px","--glow-opacity":"0"},onMouseEnter:()=>{var s;const n=(s=o.current)==null?void 0:s.querySelector(".logo");n&&n.style.setProperty("--glow-opacity","0.1")},onMouseLeave:()=>{var s;const n=(s=o.current)==null?void 0:s.querySelector(".logo");n&&n.style.setProperty("--glow-opacity","0")},children:[e.jsx("span",{className:"text-primary transition-all duration-300 hover:text-primary-focus font-bold me-6",children:"Mascode"}),e.jsx("span",{className:"transition-all duration-300 hover:text-base-content/80",children:"Blog"}),e.jsx("span",{className:"absolute inset-0 pointer-events-none opacity-[var(--glow-opacity)] transition-opacity duration-300",style:{background:"radial-gradient(300px circle at var(--x) var(--y), hsl(var(--p) / 0.4), transparent 70%)"}})]})]}),e.jsx("div",{className:"navbar-center hidden lg:flex",children:e.jsxs("ul",{className:"menu menu-horizontal px-1 gap-1",children:[e.jsx("li",{children:e.jsxs(g,{href:route("home"),className:"hover:bg-primary/10 hover:text-primary rounded-btn transition-all duration-200 flex items-center gap-1",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Accueil"]})}),e.jsx("li",{children:e.jsxs(g,{href:route("astuces.index"),className:"hover:bg-primary/10 hover:text-primary rounded-btn transition-all duration-200 flex items-center gap-1",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),"Astuces"]})}),e.jsx("li",{children:e.jsxs(g,{href:route("posts.index"),className:"hover:bg-primary/10 hover:text-primary rounded-btn transition-all duration-200 flex items-center gap-1",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Tous les Posts"]})})]})}),e.jsxs("div",{className:"navbar-end gap-1 sm:gap-2",children:[e.jsx("button",{className:"btn btn-ghost btn-circle sm:hidden hover:bg-primary/20",onClick:()=>i(!0),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("div",{className:"hidden md:flex",children:e.jsxs("div",{className:"join",children:[e.jsx("input",{type:"text",placeholder:"Rechercher...",className:"input input-bordered join-item w-40 md:w-64 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50",onClick:()=>i(!0),readOnly:!0}),e.jsx("button",{className:"btn btn-primary join-item hover:bg-primary-focus transition-all duration-200",onClick:()=>i(!0),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),e.jsx(S,{})]})]}),e.jsx(_,{isOpen:h,onClose:()=>i(!1)})]})};export{I as H};
